29042020
========
fpggen заточен под 32-битный Quartus 12.0 Build 232 07/05/2012 Service Pack 1 SJ Web Edition.

Специфичные для конкретной платы вещи лежат в директориях Board и syn.
В Board лежат модули заточенные под железо конретной платы (то что связано VGA, audio ЦАП), а также top модуль всего проекта под плату.
В syn quartus проекты.

Поэтому создаю директорию de2_115 в Board и syn и копирую в нее содержимое Board/de2 и syn/de2 соотвественно.

Преименовал файл Board/de2_115/de2_toplevel.v в Board/de2_115/de2_115_toplevel.v
Соответствующим образом изменил название top-level модуля. Поменял Device со второго циклона на четвертый.

Проект не собирается. Ругается на отсутствие библиотеки "work" где должен быть модуль "psg".

30042020
========
Эта же проблема и в остальных проектах, не только в моей копии de2.
Файлы из директории src/psg не добавлены в Quartus проект.

После их добавления сборка падает на jt12 (это проект клона OPL чипов, в том числе YM2612). В проекте Quartus этих исходников нет.
Добавил в проект файл jt12/hdl/jt12.qip и jt12/hdl/mixer/jt12_mixer.v

Теперь ругается на исходники jt12: нет нужных портов. 
Проект jt12 обновился 7 месяцев назад. А fpgagen не обновлялся уже три года. Все логично! :(
Нужно еще и здесь исходники править.

Нашел другое решение: взять ту версию исходников jt12, где нужные порты еще были.
Нужный коммит: 6590021ef142b29ad59634144a1c5c83bd1e7f30 (Fri Mar 10 19:28:20 2017).
Тогда нужно руками добавлять в проект все файлы из jt12/hdl.

01052020
========
Переходя по коммитам проекта fpgagen выяснил какой коммит jt12 рабочий:
bff2df464cdc825493e4700abce5e125df84f292 (Tue Mar 7 23:53:06 2017)

Проект собирается.
Изменил вход тактовой частоты с CLOCK_27 на CLOCK_50. Поправил PLL под новую частоту.
Плата ожидаемо не запускается.

30062020
========
Поглядел еще.
Принципиальное отличие этого проекта от проекта 2010 в том, что он читает ромы не с флешки а из SDRAM памяти.
В SDRAM ром должен попадать с SD карты, фича копирования рома с карты в память реализована с помощью ZPU (модуль fpgagen/ZPUFlex/zpu_core_flex.vhd).
Где только прошивку для ZPU брать?

Посмотрел форк от 2018 года. Там появились сигналы для FLASH памяти. Но они не используются. Сомневаюсь что есть рабочая версия ядра для DE2. :( Если только перебирать коммиты?

01072020
========
Изучаю исходники дальше.
Работа с ромом обслуживается SDRAM контроллером (src/sdram_controller.vhd и далее src/chameleon_gen_sdram.vhd). Судя по ним адресная шина M68K подается на SDRAM адрес: TG68_A3->SDRAM-A0 и т.д.
Получается что ром должен лежать в SDRAM с нулевого адреса:
				nextRamBank <= romrd_a((colAddrBits+rowAddrBits+2) downto (colAddrBits+rowAddrBits+1));
				nextRamRow <= romrd_a((colAddrBits+rowAddrBits) downto (colAddrBits+1));
				nextRamCol <= romrd_a(colAddrBits downto 3) & "00";
	где colAddrBits : integer := 9, rowAddrBits : integer := 12.
	А romrd_a(sdram_chameleon) == romrd_a_u, romrd_a_u == 000_romrd_a(sdram_controller), где romrd_a == TG68_A(21 downto 3) (модуль virtual_toplevel).

Можно ROM залить предварительно, до прошивки ПЛИС. Информация не потеряется. Нужно только знать по каким адресам лить.
Залил SoR с нулевого адреса. Прошил ПЛИС. Результат нулевой. На VGA ничего. В звуковом канале появляется писк при зажатии сброса (sw0 или key0).


